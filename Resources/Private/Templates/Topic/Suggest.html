<f:layout name="Default" />

<f:section name="Title">Suggested Topic - Chantrea Training</f:section>
<f:section name="Header">Suggested Topic</f:section>

<f:section name="Content">
    <f:render partial="FormErrors" arguments="{objectName: objectName}" />
    <f:if condition="{suggestedTopics}">
        <table class="table table-condensed">
            <tr>
                    <th><f:translate id="label.field.topic.creationDate" /></th>
                    <th><f:translate id="label.field.topic.title" /></th>
                    <th><f:translate id="label.field.topic.account" /></th>
                    <f:security.ifHasRole role="Administrator">
                        <f:then>
                            <th><f:translate id="label.suggest.accepted" /></th>
                            <th><f:translate id="label.suggest.unaccepted" /></th>
                        </f:then>
                        <f:else>
                            <th><f:translate id="label.edit" /></th>
                            <th><f:translate id="label.delete" /></th>
                        </f:else>
                    </f:security.ifHasRole>
            </tr>
            <f:for each="{suggestedTopics}" as="suggestedTopic">
                <tr class="warning">
                    <td><f:format.date>{suggestedTopic.creationDate}</f:format.date></td>
                    <td>{suggestedTopic.title}</td>
                    <td>{suggestedTopic.account.party.name}</td>
                    <f:security.ifHasRole role="Administrator">
                        <f:then>
                            <td><f:link.action action="accept" controller="Topic" arguments="{suggestedTopic: suggestedTopic}"><i class="icon-plus-sign" /></f:link.action></td>
                            <td><f:link.action action="unAccept" controller="Topic" arguments="{suggestedTopic: suggestedTopic}"><i class="icon-minus-sign" /></f:link.action></td>
                        </f:then>
                        <f:else>
                            <td><f:link.action action="edit" controller="Topic" arguments="{topic: suggestedTopic}"><i class="icon-edit"></i></f:link.action></td>
                            <td><f:link.action action="delete" controller="Topic" arguments="{topic: suggestedTopic}"><i class="icon-trash" onclick="return confirm('Are you sure want to delete?')"></i></f:link.action></td>
                        </f:else>
                    </f:security.ifHasRole>
                </tr>
            </f:for>
        </table>
    </f:if>
    <p>
            <f:link.action action="new"><f:translate id="label.suggest.new.topic" /></f:link.action>
    </p>
</f:section>